#include "ClassicZoneWriterAbstract.h"
#include "AltTecUtil.h"
#include "checkPercentDone.h"
#include "FieldData.h"
#include "FileWriterInterface.h"
#include "ItemSetIterator.h"
namespace tecplot { namespace ___3933 { ClassicZoneWriterAbstract::ClassicZoneWriterAbstract( ItemSetIterator&              varIter, ___4636                   zone, ___4636                   ___341, std::vector<___372> const& ___4564, ___372                     ___4499, ___37&                   ___36) : ___4709(varIter, zone, ___341, ___4564, ___4499, ___36) , m_variableWriter(varIter, zone, ___341, ___36) , m_headerWriter(varIter, zone, ___341, ___36, m_zoneFileLocations) {} ClassicZoneWriterAbstract::~ClassicZoneWriterAbstract() {} uint64_t ClassicZoneWriterAbstract::zoneDataFileSize(bool ___2002) { uint64_t ___3358 = 0; m_varIter.reset(); ___4352 const baseVar = m_varIter.baseItem(); while (m_varIter.hasNext()) { ___4352 const datasetVar = m_varIter.next(); ___4352 const fileVar = datasetVar - baseVar; if (!m_writeVariables[fileVar]) continue; ___3358 += m_variableWriter.varSizeInFile(datasetVar, ___2002); } return ___3358; } uint64_t ClassicZoneWriterAbstract::zoneHeaderFileSize(bool ___2002) { return m_headerWriter.sizeInFile(___2002); } ___372 ClassicZoneWriterAbstract::writeZoneData(FileWriterInterface& szpltFile) { m_varIter.reset(); ___4352 const numVarsToWrite = m_varIter.___2812(); ___372 ___2039 = m_zoneFileLocations.___2673.alloc(numVarsToWrite, ___330); ___4352 const baseVar = m_varIter.baseItem(); while (___2039 && m_varIter.hasNext()) { ___4352 const datasetVar = m_varIter.next(); ___4352 const fileVar = datasetVar - baseVar; if (!m_writeVariables[fileVar]) continue; ___2039 = ___485(SzPltWriteOperation_WriteFieldData, ___2337, datasetVar, ___2677); ___1352 ___1351(&___2337, ___2677 + 1, datasetVar + 1); ___2039 = ___2039 && ___1351.___2067(); ValueLocation_e const ___4326 = ___1351.___1786(); if (___2039) { m_zoneFileLocations.___2673[fileVar] = (uint64_t)szpltFile.fileLoc(); ___2039 = m_variableWriter.writeVarHeader(szpltFile, ___4326, datasetVar); } if (___2039) ___2039 = m_variableWriter.writeVar(szpltFile, ___1351); } ENSURE(VALID_BOOLEAN(___2039)); return ___2039; } ___372 ClassicZoneWriterAbstract::writeZoneHeader(FileWriterInterface& szpltFile) { return m_headerWriter.write(szpltFile); } }}
